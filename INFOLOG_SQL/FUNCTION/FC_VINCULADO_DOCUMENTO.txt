CREATE OR REPLACE
FUNCTION FC_VINCULADO_DOCUMENTO (PCTL_VINCD NUMBER, PTIP_DOCUM NUMBER)
RETURN VARCHAR2
AS
CURSOR
 DOC IS
 SELECT cod_docum
   FROM SUPERVISOR.DOC_VINCULADO
  WHERE ctl_vincd = PCTL_VINCD
    AND tip_docum = PTIP_DOCUM;

  RDOC DOC%ROWTYPE;
BEGIN
 OPEN DOC;
 FETCH DOC INTO RDOC;
 IF DOC%NOTFOUND THEN
    RETURN(NULL);
 END IF;
 CLOSE DOC;
 RETURN(RDOC.cod_docum);
END;
/
