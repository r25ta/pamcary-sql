CREATE OR REPLACE
FUNCTION FC_VINCULADO_ENDERECO_UF (PCTL_VINCD NUMBER, PTIP_ENDER NUMBER)
RETURN NUMBER
AS
CURSOR
 UNFED IS
 SELECT PR.cod_unfed
   FROM SUPERVISOR.ENDERECO_VINCULADO EV, SUPERVISOR.PRACA PR
  WHERE EV.ctl_vincd = PCTL_VINCD
    AND EV.cod_praca = PR.cod_praca
    AND EV.tip_ender = PTIP_ENDER;

  RUNFED UNFED%ROWTYPE;
BEGIN
 OPEN UNFED;
 FETCH UNFED INTO RUNFED;
 IF UNFED%NOTFOUND THEN
    RETURN(NULL);
 END IF;
 CLOSE UNFED;
 RETURN(RUNFED.cod_unfed);
END;
/
